{%  extends 'index.html' %}
{% load stu_tags %}
{% block page-content %}

    <div class="panel panel-default">
          <div class="panel-heading">我的课程</div>
          <div class="panel-body">

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>课程名称</th>
                        <th>所报班级</th>
                        <th>当前课程</th>
                        <th>该科成绩</th>
                        <th>作业详情</th>

                    </tr>



                </thead>
                <tbody>

                <tr>

                    <td>{{ i.course_record.from_class.course }}</td>
                    <td>{{ i.course_record.from_class }}</td>
                    <td>{{ enroll_ment.consultant }}</td>
                    <td>{{ i.course_record }}</td>
                    <td>{{ i.score }}</td>

                </tr>



                </tbody>


            </table>

                  {% if i.course_record.has_homework %}

                             <form class="dropzone" id="filedropzone" action="{{ request.path }}" style="height: 250px;border: dashed 1px lightblue">{% csrf_token %}


                Drop files here or click to upload.<br>


         </form>



                 {% endif %}



          </div>





    </div>



{% endblock %}



    {% block script %}
<script>
{#var myDropzone = new Dropzone("div#mydropzone", { url: "upload.php"});#}


 $(document).ready(function () {

         Dropzone.autoDiscover=false
         mydropzone=new Dropzone('#filedropzone', {
             url:'{{ request.path }}', //提交的路径
            paraName:"file", //相当于 input type=file 默认的name属性
            addRemoveLinks: true, //是否条件删除文件的链接
            dictRemoveLinks: "x",
            dictCancelUpload: "x",
            maxFiles: 2, //文件数量
            maxFilesize: 5, //每个文件的大小
            uploadMultiple:true, // 是否允许一次提交多个文件
             acceptedFiles:'image/*', //接受的文件类型
               init: function() {

                 this.on("error",function (file) {
                     alert('上穿的文件不是合法的格式！！');

                 })
            this.on("success", function(file) {
                console.log("File " + file.name + "uploaded");
            });
            this.on("removedfile", function(file) {
                console.log("File " + file.name + "removed");
            });
        }


        })
    })



</script>

        {% endblock %}
